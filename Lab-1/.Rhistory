View(household_df)
View(x)
library("tidyr")
library("readr")
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-spreading.csv")
household_df = household_df[-6]
x = spread(household_df, key = "Year", value = "Value")
View(x)
# use gather() function on data to make it skinny
colnames(household_df)
View(household_df)
library("readr")
library("tidyr")
library("dplyr")
# load the data
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
# do some data manipulation to get rid of rows with all 0's
household_df = household_df %>% filter(!Measure %in% c('Median Self-employment Income','Median Government Transfer Income'))
# use gather() function on data to make it skinny
colnames(household_df)
# use gather() function on data to make it skinny
colnames(household_df)[4:24]
library("readr")
library("tidyr")
library("dplyr")
# load the data
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
# do some data manipulation to get rid of rows with all 0's
household_df = household_df %>% filter(!Measure %in% c('Median Self-employment Income','Median Government Transfer Income'))
## use gather() function on data to make it skinny
# the columsn that we want are:
colnames(household_df)[4:24]
household_df_gathered %>% gather(colnames(household_df)[4:24], key = "Year", value = "Value")
head(household_df_gathered)
library("readr")
library("tidyr")
library("dplyr")
# load the data
household_df = read.csv("C:\\Users\\Brett\\Documents\\github\\compsci_369\\household-data-for-gathering.csv", row.names = 'X')
# do some data manipulation to get rid of rows with all 0's
household_df = household_df %>% filter(!Measure %in% c('Median Self-employment Income','Median Government Transfer Income'))
## use gather() function on data to make it skinny
# the columsn that we want are:
colnames(household_df)[4:24]
household_df_gathered = household_df %>% gather(colnames(household_df)[4:24], key = "Year", value = "Value")
head(household_df_gathered)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
(log_tib %>% arrange(timestamp))
setwd("~/github/stats-369")
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
(log_tib %>% arrange(timestamp))
log_tib %>% group_by(timestamp)
log_tib %>% group_by(timestamp) %>% tally(group)
log_tib %>% group_by(timestamp) %>% summarise(tally(group))
log_tib %>% group_by(group) %>% count(action)
log_tib %>% group_by(timestamp) %>% count(action)
log_tib %>% group_by(timestamp) %>% sum(action)
log_tib %>% group_by(timestamp) %>% count(action) %>% sum(n)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
head(log_tib)
log_tib %>% separate(timestamp, c('Year', 'Month', 'Day', 'Hour', 'Minute', 'Seconds'), sep = c(4,6,8,10,12))
head(log_tib)
log_tib %>% separate_(timestamp, c('Year', 'Month', 'Day', 'Hour', 'Minute', 'Seconds'), sep = c(4,6,8,10,12))
log_tib = log_tib %>% separate(timestamp, c('Year', 'Month', 'Day', 'Hour', 'Minute', 'Seconds'), sep = c(4,6,8,10,12))
head(log_tib)
log_tib %>% group_by(Day) %>% count(action)
values(log_tib$Year)
unique(log_tib$Year)
log_tib %>% filter(Year == '2.01')
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib_sep = log_tib %>% separate(timestamp, c('Year', 'Month', 'Day', 'Hour', 'Minute', 'Seconds'), sep = c(4,6,8,10,12))
log_tib %>% group_by(Day) %>% count(action)
head(log_tib_sep)
unique(log_tib$timestamp)
unique(log_tib_sep$Year)
log_tib %>% filter('2.01' in Year)
log_tib %>% filter('2.01' in "Year")
log_tib %>% filter("2.01" in "Year")
log_tib %>% filter(Year == '2.01')
log_tib %>% filter('Year' == '2.01')
filter(log_tib, '2.01' %in% "Year")
filter(log_tib, '2.01' %in% Year)
filter(log_tib, '2.01' %in% year)
log_tib %>% group_by(Day) %>% count(action)
log_tib_sep %>% group_by(Day) %>% count(action)
unique(log_tib$Year)
unique(log_tib_sep$Year)
colnames(log_tib_sep)
log_tib_sep %>% group_by(session_id) %>% count(action)
log_tib_sep %>% group_by(session_id) %>% filter(!is.na(checkin))
log_tib_sep %>% filter(!is.na(checkin))
log_tib_sep %>% filter(!is.na(checkin)) %>% group_by(session_id)
unique(log_tib_sep$Day)
unique(log_tib_sep$Month)
log_tib %>% filter('2.01' %in% timestamp)
log_tib %>% filter('2.01' %in% log_tib$timestamp)
log_tib %>% filter('2.01' %in% log_tib$timestamp)
unique(log_tib_sep$Year)
log_tib %>% filter('2.01' %in% log_tib$timestamp)
unique(log_tib_sep$Month)
unique(log_tib_sep$Day)
log_tib_sep %>% filter(-'2.01' in Year)
log_tib_sep %>% filter(-'2.01' %in%Year)
log_tib_sep %>% filter(!('2.01' %in% Year))
log_tib_sep %>% filter(-('2.01' %in% Year))
log_tib_sep %>% filter(-('.' %in% Year))
filter(log_tib_sep, !('.' %in% Year))
log_tib_sep = filter(log_tib_sep, !('.' %in% Year))
len(log_tib_sep)
nrows(log_tib_sep)
nrow(log_tib_sep)
nrow(log_tib)
log_tib_sep = filter(log_tib, !('.' %in% timestamp))
nrow(log_tib_sep)
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
filter(log_tib, '.' %in% timestamp)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib_sep = log_tib %>% separate(timestamp, c('Year', 'Month', 'Day', 'Hour', 'Minute', 'Seconds'), sep = c(4,6,8,10,12))
View(log_tib_sep)
log_tib_sep = log_tib %>% separate(timestamp, c('Day', 'Time'), sep = 8)
View(log_tib_sep)
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% count(action)
log_tib_sep %>% group_by(session_id, Day) %>% filter(!is.na(checkin)) %>% count(action)
log_tib_sep %>% group_by(session_id, Day) %>% filter(!is.na(checkin)) %>% sum(action)
log_tib_sep %>% group_by(session_id, Day) %>% filter(!is.na(checkin)) %>% sum()
log_tib_sep %>% group_by(session_id, Day) %>% filter(!is.na(checkin)) %>% summarise(sum(action))
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% summarise(sum(action))
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% count(action)
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% count(action) %>% sum(n)
log_tib_sep %>% group_by(Day, session_id) %>% filter(!is.na(checkin)) %>% count(action)
log_tib_sep %>% group_by(session_id) %>% filter(!is.na(checkin)) %>% group_by(Day) %>% count()
View(log_tib)
unique(log_tib$action)
log_tib_sep %>% group_by(session_id) %>% filter(!is.na(checkin)) %>% filter(action == 'Visit Page') %>% group_by(Day) %>% count()
log_tib_sep %>% filter(action == 'VisitPage' & checkin == 'NA')
log_tib_sep %>% filter(action == 'VisitPage')
log_tib_sep %>% filter(action = 'VisitPage')
log_tib_sep %>% filter(action == 'VisitPage')
log_tib_sep %>% filter(action == 'visitPage')
log_tib_sep %>% filter(action == 'visitPage' & is.na(checkin))
log_tib_sep %>% filter(action == 'visitPage' & !is.na(checkin))
log_tib_sep %>% group_by(Day) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day)
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
log_tib_sep %>% group_by(Day) %>% filter(action == 'visitPage') %>% count()
log_tib_sep %>% group_by(session_id, Day) %>% filter(action == 'visitPage') %>% count()
log_tib_sep %>% group_by(Day) %>% filter(action == 'visitPage') %>% group_by(session_id) %>% count()
log_tib_sep %>% filter(action == 'visitPage')
log_tib_sep %>% filter(action == 'visitPage') %>% group_by(session_id) %>% count()
log_tib_sep %>% filter(action == 'visitPage') %>% group_by(session_id, Day) %>% count()
log_tib_sep %>% filter(action == 'visitPage') %>% group_by(Day, session_id) %>% count()
log_tib_sep %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
log_tib_sep %>% group_by(session_id) %>% count()
log_tib_sep %>% group_by(session_id) %>% count(action)
log_tib_sep %>% group_by(session_id, action)
log_tib_sep %>% group_by(session_id, action) %>% count()
log_tib_sep %>% group_by(session_id) %>% count(action)
help("mutate")
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% mutate('Proportion', (action == 'searchResultPage' + action == 'checkin')/action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% mutate('Proportion', sum(action != 'visitPag')/action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% mutate('Proportion', sum(action != 'visitPage')/action == 'visitPage')
x = log_tib_sep %>% group_by(session_id) %>% mutate('not visit page', action != 'visitPage')
View(x)
x = log_tib_sep %>% group_by(session_id) %>% mutate('not visit page', action != 'visitPage') %>% summarise()
View(log_tib_sep)
View(x)
x = log_tib_sep %>% group_by(session_id) %>% summarize(count(action != 'visitPage')/count(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% sum(count(action != 'visitPage')/count(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% prop(count(action != 'visitPage')/count(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% prop(count(action != 'visitPage')/count(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage')
log_tib_sep %>% group_by(session_id) %>% sum(action != 'visitPage')
log_tib_sep %>% group_by(session_id) %>% sum(count(action != 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% sum(action != 'visitPage')
help("sum")
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% sum()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% sum()
log_tib_sep %>% group_by(session_id) %>% count()
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage')
help("summarise")
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage') %>% summarise()
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage') %>% summarise_all()
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage') %>% summarise(n)
log_tib_sep %>% group_by(session_id) %>% mutate(log_tib_sep, 'proportion' = count(action == 'visitPage')/count(action != 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% mutate('proportion' = count(action == 'visitPage')/count(action != 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% mutate('proportion' = action == 'visitPage')/action != 'visitPage')
log_tib_sep %>% group_by(session_id) %>% mutate('proportion' = action == 'visitPage'/action != 'visitPage')
log_tib_sep %>% group_by(session_id) %>% count()
log_tib_sep %>% group_by(session_id) %>% count() %>% summarise(sum(n))
log_tib_sep %>% group_by(session_id) %>% count(action) %>% summarise(sum(n))
log_tib_sep %>% group_by(session_id) %>% count(action) %>% summarise(sum(n))
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage') %>% summarise(sum(n))
log_tib_sep %>% group_by(session_id) %>% count(action != 'visitPage')
x = log_tib_sep %>% group_by(session_id)
count(x$action == 'visitPage')
typeof(x)
head(x)
x %>% summarize(filter(action == 'visitPage'))
x %>% filter(action == 'visitPage')
x %>% filter(action == 'visitPage') %>% count(n)
x %>% filter(action == 'visitPage') %>% summarise(n())
x %>% filter(action == 'visitPage') %>% summarise(sum())
x %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% group_by(Day)
log_tib_sep %>% group_by(session_id) %>% group_by(Day) %>% summarise(n())
log_tib_sep %>% group_by(session_id) %>% group_by(Day) %>% nrow(filter(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% group_by(Day) %>% filter(action == 'visitPage'))
log_tib_sep %>% group_by(session_id) %>% group_by(Day) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(session_id) %>% group_by(Day) %>% filter(action == 'visitPage') %>% nrow()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% nrow()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% nrow() %?% group_by(Day)
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% nrow() %>% group_by(Day)
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% nrow() %>% group_by(Day)
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% nrow()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% count()
log_tib_sep %>% group_by(Day) %>% filter(action == 'visitPage') %>% group_by(session_id) %>% count()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% summarise(n())
log_tib_sep %>% group_by(Day, session_id, action) %>% summarise(n())
number_of_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% count()
number_of_visitPage
number_of_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% n() %>% group_by(Day)
number_of_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% n()
number_of_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
View(number_of_visitPage)
num_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
num_notvisitPage = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day) %>% count()
num_visitPage
num_notvisitPage
proportions_by_day = num_visitPage/num_notvisitPage
proportions_by_day = num_visitPage//num_notvisitPage
num_notvisitPage = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day) %>% count() %>% filter('.' !%in% Day)
num_notvisitPage = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day) %>% count()
num_notvisitPage[-1]
num_notvisitPage[,-1]
num_notvisitPage[-1,]
num_visitPage
num_notvisitPage = num_notvisitPage[-1,]
typeof(num_notvisitPage)
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day)
log_tib_sep %>% group_by(session_id,Day) %>% filter(action == 'visitPage') %>% count()
log_tib_sep %>% group_by(session_id,Day) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
num_visitPage
num_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day,group) %>% count()
View(num_visitPage)
num_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% group_by(group) %>% count()
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(group) %>% group_by(Day) %>% count()
proportions_by_day = num_visitPage/num_notvisitPage
class(num_visitPage)
proportions_by_day = num_visitPage/num_notvisitPage
proportions_by_day = num_visitPage$n/num_notvisitPage$n
mutate(num_visitPage, n/num_notvisitPage$n )
mutate(num_visitPage, n/(num_notvisitPage$n))
num_notvisitPage$n
mutate(num_visitPage, 'proportion' = n/num_notvisitPage$n )
num_visitPage$n
num_visitPage/num_notvisitPage
num_visitPage$Proportion = num_visitPage$n/num_notvisitPage$n
num_visitPage
log_tib_sep %>% group_by(Day, session_id) %>% summarise(notvisit = sum(filter(action != 'visitPage')))
log_tib_sep %>% group_by(Day, session_id) %>% summarise(count(action == 'visitPage'))
log_tib_sep %>% group_by(Day, session_id) %>% filter(action =='visitPage') %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action =='visitPage') %>% sum()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action =='visitPage') %>% summarise(sum())
log_tib_sep %>% group_by(Day, session_id)
log_tib_sep %>% group_by(Day, session_id) %>% summarise(sum())
log_tib_sep %>% group_by(Day, session_id) %>% summarise(sum(action))
log_tib_sep %>% group_by(Day, session_id) %>% summarise(count(action)))
log_tib_sep %>% group_by(Day, session_id) %>% summarise(count(action))
log_tib_sep %>% group_by(Day, session_id) %>% summarise(count())
log_tib_sep %>% group_by(Day, session_id) %>% summarise()
function (.data, ...)
log_tib_sep %>% group_by(Day, session_id) %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage')
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% summarise()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% count()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% sum()
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% sum(n)
help(sum)
log_tib_sep %>% group_by(Day, session_id) %>% filter(action == 'visitPage') %>% summary()
log_tib_sep %>% group_by(Day, session_id, action) %>% count()
log_tib_sep %>% group_by(session_id, Day, action)
num_visitPage
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% count()
View(log_tib_sep)
arrange(log_tib_sep$session_id)
log_tib_sep %>% group_by(session_id) %>% arrange(by_group = TRUE)
log_tib_sep %>% group_by(session_id, Day) %>% filter(action == 'visitPage') %>% count()
length(unique(log_tib_sep$session_id))
# Question 1b
log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day,group) %>% count()
# Question 1b
num_vp_group = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day,group) %>% count()
num_nvp_group = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day,group) %>% count()
View(num_visitPage)
View(num_nvp_group)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib_sep = log_tib %>% separate(timestamp, c('Day', 'Time'), sep = 8)
# Question 1a
num_visitPage = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day) %>% count()
num_notvisitPage = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day) %>% count()
num_notvisitPage = num_notvisitPage[-1,]
num_visitPage$Proportion = num_visitPage$n/num_notvisitPage$n
# Question 1b
num_vp_group = log_tib_sep %>% group_by(session_id) %>% filter(action == 'visitPage') %>% group_by(Day,group) %>% count()
num_nvp_group = log_tib_sep %>% group_by(session_id) %>% filter(action != 'visitPage') %>% group_by(Day,group) %>% count()
View(num_nvp_group)
num_nvp_group = num_nvp_group[-1,]
View(num_nvp_group)
View(num_notvisitPage)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib = log_tib %>% separate(timestamp, c('Day', 'Time'), sep = 8)
log_tib %>% group_by(Day, session_id) %>% filter(action == 'visitPage')
log_tib %>% group_by(Day, session_id) %>% summarise(n = n()) %>% mutate(freq = n / sum(n))
log_tib %>% group_by(Day, session_id) %>% summarise(n = n()) %>% mutate(freq = n / sum(n)) %>% group_by(Day)
log_tib %>% group_by(Day, session_id) %>% summarise(n = n()) %>% mutate(freq = n / sum(n)) %>% group_by(Day) %>% sum()
log_tib %>% group_by(Day, session_id) %>% summarise(nrow(action == 'visitPage'))
log_tib %>% group_by(Day, session_id) %>% summarise(NROW(action == 'visitPage'))
log_tib %>% group_by(Day, session_id) %>% summarise(NROW(action != 'visitPage'))
log_tib %>% group_by(Day, session_id) %>% summarise(visited = n(action == 'visitPage'))
log_tib %>% group_by(Day, session_id) %>% summarise(visited = count(action == 'visitPage'))
log_tib %>% group_by(Day, session_id) %>% summarise(visited = sum(action == 'visitPage'))
log_tib %>% group_by(Day, session_id) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage'), ratio = visited/not_visited)
log_tib %>% group_by(Day, session_id) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage'), ratio = visited/not_visited) %>% group_by(Day)
log_tib %>% group_by(Day, session_id) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage'), ratio = visited/not_visited) %>% group_by(Day) %>% summarise(sum)
log_tib %>% group_by(Day, session_id) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage'), ratio = visited/not_visited) %>% group_by(Day) %>% summarise(sum())
log_tib %>% group_by(Day, session_id) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage'), ratio = visited/not_visited)
log_tib %>% group_by(Day, session_id) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage'), ratio = visited/not_visited) %>% group_by(Day) %>% count()
log_tib %>% group_by(Day, session_id) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage'), ratio = visited/not_visited) %>% group_by(Day) %>% summarise(visited = sum(visited), not_visited = sum(not_visited))
log_tib %>% group_by(Day, session_id) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage'), ratio = visited/not_visited) %>% group_by(Day) %>% summarise(visited = sum(visited), not_visited = sum(not_visited), ratio = visited/not_visited)
log_tib %>% group_by(Day, session_id) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage'), ratio = visited/not_visited) %>% group_by(Day,session_id) %>% summarise(visited = sum(visited), not_visited = sum(not_visited), ratio = visited/not_visited)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib = log_tib %>% separate(timestamp, c('Day', 'Time'), sep = 8)
# Question 1a
log_tib %>%
group_by(Day, session_id) %>%
summarise(visited = sum(action == 'visitPage'),
not_visited = sum(action != 'visitPage'),
ratio = visited/not_visited) %>%
group_by(Day) %>%
summarise(visited = sum(visited),
not_visited = sum(not_visited),
ratio = visited/not_visited)
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib = log_tib %>% separate(timestamp, c('Day', 'Time'), sep = 8)
# Question 1a
log_tib %>%
group_by(Day, session_id) %>%
summarise(visited = sum(action == 'visitPage'),
not_visited = sum(action != 'visitPage'),
ratio = visited/not_visited) %>%
group_by(Day) %>%
summarise(visited = sum(visited),
not_visited = sum(not_visited),
ratio = visited/not_visited)
# Question 1b
# Question 1b
log_tib %>%
group_by(Day, session_id,group) %>%
summarise(visited = sum(action == 'visitPage'),
not_visited = sum(action != 'visitPage'),
ratio = visited/not_visited) %>%
group_by(Day) %>%
# Question 1b
log_tib %>%
group_by(Day, session_id,group) %>%
summarise(visited = sum(action == 'visitPage'),
not_visited = sum(action != 'visitPage'),
ratio = visited/not_visited) %>%
group_by(Day)
library("tidyverse")
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib = log_tib %>% separate(timestamp, c('Day', 'Time'), sep = 8)
# Question 1a
log_tib %>%
group_by(Day, session_id) %>%
summarise(visited = sum(action == 'visitPage'),
not_visited = sum(action != 'visitPage'),
ratio = visited/not_visited) %>%
group_by(Day) %>%
summarise(visited = sum(visited),
not_visited = sum(not_visited),
ratio = visited/not_visited)
# Question 1b
log_tib %>%
group_by(Day, session_id,group) %>%
summarise(visited = sum(action == 'visitPage'),
not_visited = sum(action != 'visitPage'),
ratio = visited/not_visited) %>%
group_by(Day)
View(log_tib)
# Question 1b
log_tib %>%
group_by(Day, session_id,group) %>%
summarise(visited = sum(action == 'visitPage'),
not_visited = sum(action != 'visitPage'),
ratio = visited/not_visited) %>%
group_by(Day) %>%
summarise(visited = sum(visited),
not_visited = sum(not_visited),
ratio = visited/not_visited)
log_tib %>% group_by(Day, session_id, groups) %>% summarise(visited = sum(action == "visitPage"), not_visited = sum(action != "visitPage")) $>$
log_tib %>% group_by(Day, session_id,group) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage') %>% group_by(Day) %>% summarise(visited = sum(visited), not_visited = sum(not_visited), ratio = visited/not_visited)
d
log_tib %>% group_by(Day, session_id,group) %>% summarise(visited = sum(action == 'visitPage'), not_visited = sum(action != 'visitPage') %>% group_by(Day) %>% summarise(visited = sum(visited), not_visited = sum(not_visited), ratio = visited/not_visited)
g
log_tib %>% group_by(Day, session_id, group) %>% summarise(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage'))
log_tib %>% group_by(Day, session_id, group) %>% summarise(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage')) %>% group_by(Day, group_id) %>% sum(v = sum(v), nv = sum(nv))
log_tib %>% group_by(Day, session_id, group) %>% summarise(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage')) %>% group_by(Day, group) %>% sum(v = sum(v), nv = sum(nv))
log_tib %>% group_by(Day, session_id, group) %>% summarise(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage')) %>% group_by(Day, group) %>% summarise(v = sum(v), nv = sum(nv))
log_tib %>% group_by(Day, session_id, group) %>% summarise(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage')) %>% group_by(Day, group) %>% summarise(v = sum(v), nv = sum(nv), ratio = v/nv)
View(log_tib)
first(log_tib$uuid)
log_tib %>% group_by(session_id) %>% arrange(result_position) %>% first(result_position)
log_tib %>% group_by(session_id) %>% arrange(result_position) %>% summarise(fst = first(result_position)))
log_tib %>% group_by(session_id) %>% arrange(result_position) %>% summarise(fst = first(result_position))
library("tidyverse")
log_tib = read_csv("events_log.csv", col_types = 'cccccicii')
log_tib = log_tib %>% separate(timestamp, c('Day', 'Time'), sep = 8)
# Question 1a
click_through_df =
log_tib %>%
group_by(Day, session_id) %>%
summarise(visited = sum(action == 'visitPage'),
not_visited = sum(action != 'visitPage'),
ratio = visited/not_visited) %>%
group_by(Day) %>%
summarise(visited = sum(visited),
not_visited = sum(not_visited),
ratio = visited/not_visited)
# Question 1b
click_through_group_df =
log_tib %>%
group_by(Day, session_id,group) %>%
summarise(visited = sum(action == 'visitPage'),
not_visited = sum(action != 'visitPage'))%>%
group_by(Day, group) %>%
summarise(visited = sum(visited),
not_visited = sum(not_visited),
ratio = visited/not_visited)
View(click_through_df)
View(click_through_group_df)
log_tib %>% group_by(Day, session_id) %>% mutate(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage'))
log_tib %>% group_by(Day, session_id) %>% mutate(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage')) %>% group_by(Day)
log_tib %>% group_by(Day, session_id) %>% summarise(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage')) %>% group_by(Day) %>% mutate(v = sum(v), nv = sum(nv))
log_tib %>% group_by(Day, session_id) %>% summarise(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage'))
log_tib %>% group_by(Day, session_id) %>% summarise(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage')) %>% group_by(Day) %>% summarise(v = sum(v), nv = sum(nv)) %>% mutate('ratio' = v/nv)
View(click_through_df)
log_tib %>% group_by(Day, session_id) %>% summarise(v = sum(action == 'visitPage'), nv = sum(action != 'visitPage')) %>% group_by(Day) %>% summarise(v = sum(v), nv = sum(nv)) %>% mutate('ratio' = v/nv) %>% summarise(total = sum(v), total_nv = sum(nv))
len(log_tib)
nrow(log_tib)
400165 - (40107 + 360058)
View(log_tib)
length(unique(log_tib$session_id))
length(unique(log_tib$page_id))
length(unique(log_tib$result_position))
length(unique(log_tib$!is.na(n_results)))
length(unique(log_tib$n_results)
length(unique(log_tib$n_results))
length(unique(log_tib$n_results))
log_tib %>% group_by(session_id) %>% count(action == 'visitPage')
log_tib %>% group_by(session_id) %>% count(action == 'visitPage') %>% group_by(session_id) %>% summarise(v = sum(FALSE), nv = sum(TRUE))
x = read_csv("events_log.csv", col_types = 'cccccicii')
View(x)
log_tib %>% group_by(session_id) %>% arrange(time, by_group = TRUE)
log_tib %>% group_by(session_id) %>% arrange(time, .by_group = TRUE)
log_tib %>% group_by(session_id) %>% arrange(Time, .by_group = TRUE)
help("arrange")
log_tib %>% group_by(session_id) %>% arrange(Time, desc(), .by_group = TRUE)
anyNA(log_tib$Time)
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE)
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% first(page_id)
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id))
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% summarise(counts = sum(first_page))
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% count()
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% summarise(c = count(first_page))
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% summarise(freq = n())
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% summarise(freq = n(first_page))
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id))
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% group_by(first_page) %>% summarise(n = n())
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% group_by(first_page) %>% summarise(n = n()) %>% arrange(desc(n))
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% group_by(first_page)
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% ungroup() %>% group_by(first_page) %>% summarise(n = sum(first_page))
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% ungroup() %>% group_by(first_page) %>% summarise(n = count(first_page))
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% ungroup() %>% group_by(first_page) %>% summarise(n = n())
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% summarise(first_page = first(page_id)) %>% ungroup() %>% group_by(first_page) %>% summarise(n = n()) %>% arrange(desc(n))
log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% mutate(first_page = first(page_id))
x = log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% mutate(first_page = first(page_id))
View(x)
x = log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% filter(action == 'visitPage')
y = log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% filter(action == 'visitPage') %>% group_by(session_id) %>% summarise(first_page = first(page_id))
View(y)
z = log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% filter(action == 'visitPage') %>% group_by(session_id) %>% summarise(first_page = first(page_id)) %>% ungroup() %>% group_by(first_page)
View(z)
View(y)
z = log_tib %>% group_by(session_id) %>% arrange(desc(Time), .by_group = TRUE) %>% filter(action == 'visitPage') %>% group_by(session_id) %>% summarise(first_page = first(page_id)) %>% ungroup() %>% group_by(first_page) %>% summarise(c = count(first_page))
